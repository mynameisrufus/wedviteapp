<% content_for :head do %>
  <%= javascript_include_tag 'users/locations/form' %>
  <%= javascript_include_tag 'http://maps.googleapis.com/maps/api/js?sensor=true&libraries=places' %>
<% end %>

<div class="clearfix">
  <div class="input">
    <%= text_field_tag :search, nil, class: 'xlarge search span12', size: 30, type: :search %>
    <span class="help-block">Start typing to find the location</span>
  </div>
</div>
<div class="clearfix">
  <div id="map" style="width: 100%; height: 400px"></div>
</div>
<%= form_for @location, url: url do |f| %>
  <% if @location.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@location.errors.count, "error") %> prohibited this invitation from being saved:</h2>

      <ul>
      <% @location.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>
  <fieldset>
    <%= f.hidden_field :address_components %>
    <%= f.hidden_field :types %>
    <%= f.hidden_field :google_id %>
    <%= f.hidden_field :google_url %>
    <%= f.hidden_field :lat %>
    <%= f.hidden_field :lng %>
    <%= f.hidden_field :vicinity %>
    
    <div class="clearfix">
      <%= f.label :name, "Place name" %>
      <div class="input">
        <%= f.text_field :name, class: 'xlarge span8', size: 30 %>
        <span class="help-block">The name of your wedding that you will see in WedVite</span>
      </div>
    </div>

    <div class="clearfix">
      <%= f.label :website %>
      <div class="input">
        <%= f.text_field :website, class: 'xlarge, span8', size: 30 %>
        <span class="help-block">The name of your wedding that you will see in WedVite</span>
      </div>
    </div>

    <div class="clearfix">
      <%= f.label :formatted_address, "Address" %>
      <div class="input">
        <%= f.text_field :formatted_address, class: 'xlarge span8', size: 30 %>
        <span class="help-block">The name of your wedding that you will see in WedVite</span>
      </div>
    </div>

    <div class="clearfix">
      <%= f.label :formatted_phone_number, "Phone number" %>
      <div class="input">
        <%= f.text_field :formatted_phone_number, class: 'xlarge', size: 30 %>
        <span class="help-block">The name of your wedding that you will see in WedVite</span>
      </div>
    </div>

    <div class="clearfix">
      <%= f.label :international_phone_number %>
      <div class="input">
        <%= f.text_field :international_phone_number, class: 'xlarge', size: 30 %>
        <span class="help-block">The name of your wedding that you will see in WedVite</span>
      </div>
    </div>
    
    <div class="actions">
      <%= f.submit 'Save location', class: 'btn primary' %>&nbsp;<%= link_to 'Cancel', wedding_path(@wedding), class: 'btn' %>
    </div>
  </fieldset>
<% end %>
